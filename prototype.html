<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="src/reset.css"/>
    <link rel="stylesheet" href="lib/dragula.js/dist/dragula.min.css"/>
    <link rel="stylesheet" href="src/core.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campsi UI</title>
</head>
<body>
<button onclick="toggleOutline()">Show borders</button>
<div id="designer">

</div>

<script type="application/javascript" src="lib/jquery/dist/jquery.min.js"></script>
<script type="application/javascript" src="lib/dragula.js/dist/dragula.js"></script>
<script type="application/javascript" src="src/campsi.core.js"></script>
<script type="application/javascript" src="src/campsi.loader.js"></script>
<script>

    var outline = localStorage.getItem('outline') == 'true';

    if (outline) {
        $('body').addClass('outline');
    }

    function toggleOutline() {
        outline = !outline;
        $('body').toggleClass('outline', outline);
        localStorage.setItem('outline', outline);
    }


    var myForm;
    var value = {
        "ingredients": [{"name": "lardons", "vegan": false}, {
            "name": "oignons",
            "vegan": true
        }, {"name": "oignons", "vegan": true}],
        "base": "cream",
        "name": "Campagnarde",
        "price": "11",
        "contact": {
            "name": "Romain Bessuges",
            "address": "111 Av. Théroigne de Méricourt",
            "postcode": "34000",
            "city": "MONTPELLIER"
        }
    };

    $.getJSON('model.json', function (model) {
        Campsi.components.create(model, value, null, function (form) {
            myForm = form;
            $('#designer').append(form.html());
        });
    });

</script>
</body>
</html>